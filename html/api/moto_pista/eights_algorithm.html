<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Eights Algorithm &mdash; SAPPC 0.1 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="Push Vehicle Algorithm" href="push_vehicle_algorithm.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> SAPPC
            <img src="../../_static/SAPPC_logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Welcome to SAPPC documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/data_acquisition.html">How to use the track’s data acquisition pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/process_data.html">How to process the data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/update_line_stops.html">Update lines for Line stop maneuvers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/update_parking_areas.html">Update areas for parking spots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guide/update_cone_position.html">Update cone position for slaloms</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../carro_circulacion/index.html">Carro Circulación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../moto_circulacion/index.html">Moto Circulación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../carro_pista/index.html">Carro pista</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Moto pista</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#how-to-run-the-motorcycle-s-track-test">How to run the Motorcycle’s track test</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#how-to-run-the-motorcycle-s-track-test-data-acquisition-pipeline">How to run the Motorcycle’s track test data acquisition pipeline</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#description-of-the-motorcycle-s-track-test-algorithms">Description of the Motorcycle’s track test algorithms</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#parameters-to-change">Parameters to change</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#algorithms-used">Algorithms used</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="stop_lines_algorithm.html">Stop Lines Algorithm</a></li>
<li class="toctree-l4"><a class="reference internal" href="low_vel_slalom_algorithm.html">Low Velocity Slalom Algorithm</a></li>
<li class="toctree-l4"><a class="reference internal" href="high_vel_slalom_algorithm.html">High Velocity Slalom Algorithm</a></li>
<li class="toctree-l4"><a class="reference internal" href="push_vehicle_algorithm.html">Push Vehicle Algorithm</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Eights Algorithm</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">SAPPC</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">API</a> &raquo;</li>
          <li><a href="index.html">Moto pista</a> &raquo;</li>
      <li>Eights Algorithm</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/api/moto_pista/eights_algorithm.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="eights-algorithm">
<h1>Eights Algorithm<a class="headerlink" href="#eights-algorithm" title="Permalink to this heading"></a></h1>
<p>The eights algorithm checks if the vehicle is inside the allowed area. It uses the algorithm RAFT by Teed and Deng [2020], to detect where the vehicle is. After locating the moving pixels, which will correspond to the vehicle the center of mass is calculated. Manually masks are created to define the allowed area and are dilated to give a margin to the vehicle. The center of mass is then compared to the allowed area. If the center of mass is inside the allowed area, the output CSV file will contain a 1, otherwise it will contain a 0.</p>
<p>An example of the parameters related to the <strong>eights allowed area</strong> are the shown in the following excerpt of file. Each post has its own mask and the mask can be comprised of one or many contours.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 43</span><span class="c1"># Poste 17</span>
<span class="linenos"> 44</span>
<span class="linenos"> 45</span><span class="n">MASK_POST17</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos"> 46</span><span class="n">MASK_POST17</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1462</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="linenos"> 47</span>                        <span class="p">[</span><span class="mi">1920</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="linenos"> 48</span>                        <span class="p">[</span><span class="mi">1920</span><span class="p">,</span> <span class="mi">1080</span><span class="p">],</span>
<span class="linenos"> 49</span>                        <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1080</span><span class="p">],</span>
<span class="linenos"> 50</span>                        <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">732</span><span class="p">],</span>
<span class="linenos"> 51</span>                        <span class="p">[</span><span class="mi">18</span><span class="p">,</span> <span class="mi">732</span><span class="p">],</span>
<span class="linenos"> 52</span>                        <span class="p">[</span><span class="mi">36</span><span class="p">,</span> <span class="mi">732</span><span class="p">],</span>
<span class="linenos"> 53</span>                        <span class="p">[</span><span class="mi">64</span><span class="p">,</span> <span class="mi">718</span><span class="p">],</span>
<span class="linenos"> 54</span>                        <span class="p">[</span><span class="mi">84</span><span class="p">,</span> <span class="mi">710</span><span class="p">],</span>
<span class="linenos"> 55</span>                        <span class="p">[</span><span class="mi">94</span><span class="p">,</span> <span class="mi">696</span><span class="p">],</span>
<span class="linenos"> 56</span>                        <span class="p">[</span><span class="mi">112</span><span class="p">,</span> <span class="mi">660</span><span class="p">],</span>
<span class="linenos"> 57</span>                        <span class="p">[</span><span class="mi">128</span><span class="p">,</span> <span class="mi">644</span><span class="p">],</span>
<span class="linenos"> 58</span>                        <span class="p">[</span><span class="mi">160</span><span class="p">,</span> <span class="mi">584</span><span class="p">],</span>
<span class="linenos"> 59</span>                        <span class="p">[</span><span class="mi">168</span><span class="p">,</span> <span class="mi">548</span><span class="p">],</span>
<span class="linenos"> 60</span>                        <span class="p">[</span><span class="mi">180</span><span class="p">,</span> <span class="mi">526</span><span class="p">],</span>
<span class="linenos"> 61</span>                        <span class="p">[</span><span class="mi">184</span><span class="p">,</span> <span class="mi">500</span><span class="p">],</span>
<span class="linenos"> 62</span>                        <span class="p">[</span><span class="mi">198</span><span class="p">,</span> <span class="mi">472</span><span class="p">],</span>
<span class="linenos"> 63</span>                        <span class="p">[</span><span class="mi">206</span><span class="p">,</span> <span class="mi">450</span><span class="p">],</span>
<span class="linenos"> 64</span>                        <span class="p">[</span><span class="mi">214</span><span class="p">,</span> <span class="mi">438</span><span class="p">],</span>
<span class="linenos"> 65</span>                        <span class="p">[</span><span class="mi">218</span><span class="p">,</span> <span class="mi">462</span><span class="p">],</span>
<span class="linenos"> 66</span>                        <span class="p">[</span><span class="mi">222</span><span class="p">,</span> <span class="mi">492</span><span class="p">],</span>
<span class="linenos"> 67</span>                        <span class="p">[</span><span class="mi">228</span><span class="p">,</span> <span class="mi">532</span><span class="p">],</span>
<span class="linenos"> 68</span>                        <span class="p">[</span><span class="mi">236</span><span class="p">,</span> <span class="mi">578</span><span class="p">],</span>
<span class="linenos"> 69</span>                        <span class="p">[</span><span class="mi">250</span><span class="p">,</span> <span class="mi">624</span><span class="p">],</span>
<span class="linenos"> 70</span>                        <span class="p">[</span><span class="mi">262</span><span class="p">,</span> <span class="mi">652</span><span class="p">],</span>
<span class="linenos"> 71</span>                        <span class="p">[</span><span class="mi">280</span><span class="p">,</span> <span class="mi">688</span><span class="p">],</span>
<span class="linenos"> 72</span>                        <span class="p">[</span><span class="mi">296</span><span class="p">,</span> <span class="mi">720</span><span class="p">],</span>
<span class="linenos"> 73</span>                        <span class="p">[</span><span class="mi">310</span><span class="p">,</span> <span class="mi">742</span><span class="p">],</span>
<span class="linenos"> 74</span>                        <span class="p">[</span><span class="mi">322</span><span class="p">,</span> <span class="mi">758</span><span class="p">],</span>
<span class="linenos"> 75</span>                        <span class="p">[</span><span class="mi">336</span><span class="p">,</span> <span class="mi">788</span><span class="p">],</span>
<span class="linenos"> 76</span>                        <span class="p">[</span><span class="mi">360</span><span class="p">,</span> <span class="mi">814</span><span class="p">],</span>
<span class="linenos"> 77</span>                        <span class="p">[</span><span class="mi">386</span><span class="p">,</span> <span class="mi">848</span><span class="p">],</span>
<span class="linenos"> 78</span>                        <span class="p">[</span><span class="mi">436</span><span class="p">,</span> <span class="mi">882</span><span class="p">],</span>
<span class="linenos"> 79</span>                        <span class="p">[</span><span class="mi">450</span><span class="p">,</span> <span class="mi">888</span><span class="p">],</span>
<span class="linenos"> 80</span>                        <span class="p">[</span><span class="mi">486</span><span class="p">,</span> <span class="mi">912</span><span class="p">],</span>
<span class="linenos"> 81</span>                        <span class="p">[</span><span class="mi">526</span><span class="p">,</span> <span class="mi">936</span><span class="p">],</span>
<span class="linenos"> 82</span>                        <span class="p">[</span><span class="mi">556</span><span class="p">,</span> <span class="mi">952</span><span class="p">],</span>
<span class="linenos"> 83</span>                        <span class="p">[</span><span class="mi">592</span><span class="p">,</span> <span class="mi">972</span><span class="p">],</span>
<span class="linenos"> 84</span>                        <span class="p">[</span><span class="mi">618</span><span class="p">,</span> <span class="mi">978</span><span class="p">],</span>
<span class="linenos"> 85</span>                        <span class="p">[</span><span class="mi">672</span><span class="p">,</span> <span class="mi">1000</span><span class="p">],</span>
<span class="linenos"> 86</span>                        <span class="p">[</span><span class="mi">720</span><span class="p">,</span> <span class="mi">1012</span><span class="p">],</span>
<span class="linenos"> 87</span>                        <span class="p">[</span><span class="mi">770</span><span class="p">,</span> <span class="mi">1024</span><span class="p">],</span>
<span class="linenos"> 88</span>                        <span class="p">[</span><span class="mi">814</span><span class="p">,</span> <span class="mi">1026</span><span class="p">],</span>
<span class="linenos"> 89</span>                        <span class="p">[</span><span class="mi">876</span><span class="p">,</span> <span class="mi">1026</span><span class="p">],</span>
<span class="linenos"> 90</span>                        <span class="p">[</span><span class="mi">904</span><span class="p">,</span> <span class="mi">1024</span><span class="p">],</span>
<span class="linenos"> 91</span>                        <span class="p">[</span><span class="mi">948</span><span class="p">,</span> <span class="mi">1018</span><span class="p">],</span>
<span class="linenos"> 92</span>                        <span class="p">[</span><span class="mi">980</span><span class="p">,</span> <span class="mi">1014</span><span class="p">],</span>
<span class="linenos"> 93</span>                        <span class="p">[</span><span class="mi">1024</span><span class="p">,</span> <span class="mi">1006</span><span class="p">],</span>
<span class="linenos"> 94</span>                        <span class="p">[</span><span class="mi">1076</span><span class="p">,</span> <span class="mi">990</span><span class="p">],</span>
<span class="linenos"> 95</span>                        <span class="p">[</span><span class="mi">1126</span><span class="p">,</span> <span class="mi">974</span><span class="p">],</span>
<span class="linenos"> 96</span>                        <span class="p">[</span><span class="mi">1184</span><span class="p">,</span> <span class="mi">954</span><span class="p">],</span>
<span class="linenos"> 97</span>                        <span class="p">[</span><span class="mi">1234</span><span class="p">,</span> <span class="mi">924</span><span class="p">],</span>
<span class="linenos"> 98</span>                        <span class="p">[</span><span class="mi">1288</span><span class="p">,</span> <span class="mi">888</span><span class="p">],</span>
<span class="linenos"> 99</span>                        <span class="p">[</span><span class="mi">1322</span><span class="p">,</span> <span class="mi">864</span><span class="p">],</span>
<span class="linenos">100</span>                        <span class="p">[</span><span class="mi">1354</span><span class="p">,</span> <span class="mi">842</span><span class="p">],</span>
<span class="linenos">101</span>                        <span class="p">[</span><span class="mi">1388</span><span class="p">,</span> <span class="mi">810</span><span class="p">],</span>
<span class="linenos">102</span>                        <span class="p">[</span><span class="mi">1426</span><span class="p">,</span> <span class="mi">778</span><span class="p">],</span>
<span class="linenos">103</span>                        <span class="p">[</span><span class="mi">1456</span><span class="p">,</span> <span class="mi">742</span><span class="p">],</span>
<span class="linenos">104</span>                        <span class="p">[</span><span class="mi">1482</span><span class="p">,</span> <span class="mi">712</span><span class="p">],</span>
<span class="linenos">105</span>                        <span class="p">[</span><span class="mi">1504</span><span class="p">,</span> <span class="mi">666</span><span class="p">],</span>
<span class="linenos">106</span>                        <span class="p">[</span><span class="mi">1506</span><span class="p">,</span> <span class="mi">660</span><span class="p">],</span>
<span class="linenos">107</span>                        <span class="p">[</span><span class="mi">1520</span><span class="p">,</span> <span class="mi">634</span><span class="p">],</span>
<span class="linenos">108</span>                        <span class="p">[</span><span class="mi">1536</span><span class="p">,</span> <span class="mi">596</span><span class="p">],</span>
<span class="linenos">109</span>                        <span class="p">[</span><span class="mi">1550</span><span class="p">,</span> <span class="mi">562</span><span class="p">],</span>
<span class="linenos">110</span>                        <span class="p">[</span><span class="mi">1556</span><span class="p">,</span> <span class="mi">544</span><span class="p">],</span>
<span class="linenos">111</span>                        <span class="p">[</span><span class="mi">1562</span><span class="p">,</span> <span class="mi">526</span><span class="p">],</span>
<span class="linenos">112</span>                        <span class="p">[</span><span class="mi">1570</span><span class="p">,</span> <span class="mi">504</span><span class="p">],</span>
<span class="linenos">113</span>                        <span class="p">[</span><span class="mi">1578</span><span class="p">,</span> <span class="mi">468</span><span class="p">],</span>
<span class="linenos">114</span>                        <span class="p">[</span><span class="mi">1580</span><span class="p">,</span> <span class="mi">422</span><span class="p">],</span>
<span class="linenos">115</span>                        <span class="p">[</span><span class="mi">1582</span><span class="p">,</span> <span class="mi">388</span><span class="p">],</span>
<span class="linenos">116</span>                        <span class="p">[</span><span class="mi">1584</span><span class="p">,</span> <span class="mi">344</span><span class="p">],</span>
<span class="linenos">117</span>                        <span class="p">[</span><span class="mi">1578</span><span class="p">,</span> <span class="mi">308</span><span class="p">],</span>
<span class="linenos">118</span>                        <span class="p">[</span><span class="mi">1578</span><span class="p">,</span> <span class="mi">286</span><span class="p">],</span>
<span class="linenos">119</span>                        <span class="p">[</span><span class="mi">1572</span><span class="p">,</span> <span class="mi">258</span><span class="p">],</span>
<span class="linenos">120</span>                        <span class="p">[</span><span class="mi">1568</span><span class="p">,</span> <span class="mi">226</span><span class="p">],</span>
<span class="linenos">121</span>                        <span class="p">[</span><span class="mi">1558</span><span class="p">,</span> <span class="mi">198</span><span class="p">],</span>
<span class="linenos">122</span>                        <span class="p">[</span><span class="mi">1554</span><span class="p">,</span> <span class="mi">160</span><span class="p">],</span>
<span class="linenos">123</span>                        <span class="p">[</span><span class="mi">1542</span><span class="p">,</span> <span class="mi">130</span><span class="p">],</span>
<span class="linenos">124</span>                        <span class="p">[</span><span class="mi">1528</span><span class="p">,</span> <span class="mi">90</span><span class="p">],</span>
<span class="linenos">125</span>                        <span class="p">[</span><span class="mi">1514</span><span class="p">,</span> <span class="mi">68</span><span class="p">],</span>
<span class="linenos">126</span>                        <span class="p">[</span><span class="mi">1500</span><span class="p">,</span> <span class="mi">56</span><span class="p">],</span>
<span class="linenos">127</span>                        <span class="p">[</span><span class="mi">1484</span><span class="p">,</span> <span class="mi">34</span><span class="p">],</span>
<span class="linenos">128</span>                        <span class="p">[</span><span class="mi">1468</span><span class="p">,</span> <span class="mi">14</span><span class="p">],</span>
<span class="linenos">129</span>                    <span class="p">]))</span>
<span class="linenos">130</span><span class="n">MASK_POST17</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">384</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="linenos">131</span>                        <span class="p">[</span><span class="mi">1376</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="linenos">132</span>                        <span class="p">[</span><span class="mi">1430</span><span class="p">,</span> <span class="mi">72</span><span class="p">],</span>
<span class="linenos">133</span>                        <span class="p">[</span><span class="mi">1450</span><span class="p">,</span> <span class="mi">110</span><span class="p">],</span>
<span class="linenos">134</span>                        <span class="p">[</span><span class="mi">1464</span><span class="p">,</span> <span class="mi">146</span><span class="p">],</span>
<span class="linenos">135</span>                        <span class="p">[</span><span class="mi">1474</span><span class="p">,</span> <span class="mi">182</span><span class="p">],</span>
<span class="linenos">136</span>                        <span class="p">[</span><span class="mi">1486</span><span class="p">,</span> <span class="mi">230</span><span class="p">],</span>
<span class="linenos">137</span>                        <span class="p">[</span><span class="mi">1494</span><span class="p">,</span> <span class="mi">316</span><span class="p">],</span>
<span class="linenos">138</span>                        <span class="p">[</span><span class="mi">1488</span><span class="p">,</span> <span class="mi">368</span><span class="p">],</span>
<span class="linenos">139</span>                        <span class="p">[</span><span class="mi">1474</span><span class="p">,</span> <span class="mi">438</span><span class="p">],</span>
<span class="linenos">140</span>                        <span class="p">[</span><span class="mi">1414</span><span class="p">,</span> <span class="mi">574</span><span class="p">],</span>
<span class="linenos">141</span>                        <span class="p">[</span><span class="mi">1374</span><span class="p">,</span> <span class="mi">628</span><span class="p">],</span>
<span class="linenos">142</span>                        <span class="p">[</span><span class="mi">1344</span><span class="p">,</span> <span class="mi">662</span><span class="p">],</span>
<span class="linenos">143</span>                        <span class="p">[</span><span class="mi">1308</span><span class="p">,</span> <span class="mi">696</span><span class="p">],</span>
<span class="linenos">144</span>                        <span class="p">[</span><span class="mi">1146</span><span class="p">,</span> <span class="mi">806</span><span class="p">],</span>
<span class="linenos">145</span>                        <span class="p">[</span><span class="mi">1092</span><span class="p">,</span> <span class="mi">830</span><span class="p">],</span>
<span class="linenos">146</span>                        <span class="p">[</span><span class="mi">980</span><span class="p">,</span> <span class="mi">866</span><span class="p">],</span>
<span class="linenos">147</span>                        <span class="p">[</span><span class="mi">804</span><span class="p">,</span> <span class="mi">880</span><span class="p">],</span>
<span class="linenos">148</span>                        <span class="p">[</span><span class="mi">744</span><span class="p">,</span> <span class="mi">876</span><span class="p">],</span>
<span class="linenos">149</span>                        <span class="p">[</span><span class="mi">680</span><span class="p">,</span> <span class="mi">864</span><span class="p">],</span>
<span class="linenos">150</span>                        <span class="p">[</span><span class="mi">632</span><span class="p">,</span> <span class="mi">850</span><span class="p">],</span>
<span class="linenos">151</span>                        <span class="p">[</span><span class="mi">496</span><span class="p">,</span> <span class="mi">774</span><span class="p">],</span>
<span class="linenos">152</span>                        <span class="p">[</span><span class="mi">454</span><span class="p">,</span> <span class="mi">740</span><span class="p">],</span>
<span class="linenos">153</span>                        <span class="p">[</span><span class="mi">410</span><span class="p">,</span> <span class="mi">694</span><span class="p">],</span>
<span class="linenos">154</span>                        <span class="p">[</span><span class="mi">396</span><span class="p">,</span> <span class="mi">678</span><span class="p">],</span>
<span class="linenos">155</span>                        <span class="p">[</span><span class="mi">324</span><span class="p">,</span> <span class="mi">554</span><span class="p">],</span>
<span class="linenos">156</span>                        <span class="p">[</span><span class="mi">298</span><span class="p">,</span> <span class="mi">484</span><span class="p">],</span>
<span class="linenos">157</span>                        <span class="p">[</span><span class="mi">284</span><span class="p">,</span> <span class="mi">426</span><span class="p">],</span>
<span class="linenos">158</span>                        <span class="p">[</span><span class="mi">286</span><span class="p">,</span> <span class="mi">296</span><span class="p">],</span>
<span class="linenos">159</span>                        <span class="p">[</span><span class="mi">290</span><span class="p">,</span> <span class="mi">264</span><span class="p">],</span>
<span class="linenos">160</span>                        <span class="p">[</span><span class="mi">304</span><span class="p">,</span> <span class="mi">218</span><span class="p">],</span>
<span class="linenos">161</span>                        <span class="p">[</span><span class="mi">322</span><span class="p">,</span> <span class="mi">166</span><span class="p">],</span>
<span class="linenos">162</span>                        <span class="p">[</span><span class="mi">354</span><span class="p">,</span> <span class="mi">38</span><span class="p">],</span>
<span class="linenos">163</span>                        <span class="p">[</span><span class="mi">380</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="linenos">164</span>                    <span class="p">]))</span>
<span class="linenos">165</span><span class="n">MASK_POST17</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="linenos">166</span>                            <span class="p">[</span><span class="mi">290</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="linenos">167</span>                            <span class="p">[</span><span class="mi">294</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span>
<span class="linenos">168</span>                            <span class="p">[</span><span class="mi">292</span><span class="p">,</span> <span class="mi">76</span><span class="p">],</span>
<span class="linenos">169</span>                            <span class="p">[</span><span class="mi">276</span><span class="p">,</span> <span class="mi">126</span><span class="p">],</span>
<span class="linenos">170</span>                            <span class="p">[</span><span class="mi">260</span><span class="p">,</span> <span class="mi">176</span><span class="p">],</span>
<span class="linenos">171</span>                            <span class="p">[</span><span class="mi">220</span><span class="p">,</span> <span class="mi">288</span><span class="p">],</span>
<span class="linenos">172</span>                            <span class="p">[</span><span class="mi">202</span><span class="p">,</span> <span class="mi">324</span><span class="p">],</span>
<span class="linenos">173</span>                            <span class="p">[</span><span class="mi">178</span><span class="p">,</span> <span class="mi">372</span><span class="p">],</span>
<span class="linenos">174</span>                            <span class="p">[</span><span class="mi">140</span><span class="p">,</span> <span class="mi">476</span><span class="p">],</span>
<span class="linenos">175</span>                            <span class="p">[</span><span class="mi">118</span><span class="p">,</span> <span class="mi">518</span><span class="p">],</span>
<span class="linenos">176</span>                            <span class="p">[</span><span class="mi">98</span><span class="p">,</span> <span class="mi">554</span><span class="p">],</span>
<span class="linenos">177</span>                            <span class="p">[</span><span class="mi">62</span><span class="p">,</span> <span class="mi">618</span><span class="p">],</span>
<span class="linenos">178</span>                            <span class="p">[</span><span class="mi">28</span><span class="p">,</span> <span class="mi">646</span><span class="p">],</span>
<span class="linenos">179</span>                            <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">654</span><span class="p">],</span>
<span class="linenos">180</span>                    <span class="p">]))</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the  <strong>allowed area</strong> or the <strong>camera position</strong> are changed, the <strong>parameters must be updated</strong>.</p>
</div>
<section id="output-format">
<h2>Output format<a class="headerlink" href="#output-format" title="Permalink to this heading"></a></h2>
<p>The output CSV of the algorithm contains the following columns:</p>
<ul class="simple">
<li><p>Time: timestamp of the frame.</p></li>
<li><p>Pos X: X position of the center of mass.</p></li>
<li><p>Pos Y: Y position of the center of mass.</p></li>
<li><p>In area: True if the center of mass is inside the allowed area, False otherwise.</p></li>
</ul>
</section>
<section id="class-docs">
<h2>Class docs<a class="headerlink" href="#class-docs" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="Motorcycle_algorithms.eights.eights_singleframe_functions.EightsSingleFrameChecker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Motorcycle_algorithms.eights.eights_singleframe_functions.</span></span><span class="sig-name descname"><span class="pre">EightsSingleFrameChecker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">video_csv_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">video_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">camera_matrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dist_coefs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">17</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">view_image</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/Motorcycle_algorithms/eights/eights_singleframe_functions.html#EightsSingleFrameChecker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Motorcycle_algorithms.eights.eights_singleframe_functions.EightsSingleFrameChecker" title="Permalink to this definition"></a></dt>
<dd><p>Class to check if the vehicle gets out of the allowed area. It uses the optical flow to check if the vehicle is
moving in the allowed area.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>video_csv_path</strong> (<em>str</em>) – path to the csv file with the video information</p></li>
<li><p><strong>video_path</strong> (<em>str</em>) – path to the video file</p></li>
<li><p><strong>camera_matrix</strong> (<em>np.array</em>) – camera matrix</p></li>
<li><p><strong>dist_coeffs</strong> (<em>np.array</em>) – distortion coefficients</p></li>
<li><p><strong>post</strong> (<em>int</em>) – post number. From 17 to 22.</p></li>
<li><p><strong>view_image</strong> (<em>bool</em>) – if True, it shows the image with the optical flow</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="Motorcycle_algorithms.eights.eights_singleframe_functions.EightsSingleFrameChecker.process_video">
<span class="sig-name descname"><span class="pre">process_video</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/Motorcycle_algorithms/eights/eights_singleframe_functions.html#EightsSingleFrameChecker.process_video"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Motorcycle_algorithms.eights.eights_singleframe_functions.EightsSingleFrameChecker.process_video" title="Permalink to this definition"></a></dt>
<dd><p>Function to check if the vehicle gets out of the allowed area</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None. The results are saved in a video and a csv file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="functions-docs">
<h2>Functions docs<a class="headerlink" href="#functions-docs" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="Motorcycle_algorithms.eights.eights_singleframe_functions.load_image">
<span class="sig-prename descclassname"><span class="pre">Motorcycle_algorithms.eights.eights_singleframe_functions.</span></span><span class="sig-name descname"><span class="pre">load_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">imfile</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/Motorcycle_algorithms/eights/eights_singleframe_functions.html#load_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Motorcycle_algorithms.eights.eights_singleframe_functions.load_image" title="Permalink to this definition"></a></dt>
<dd><p>Function to load image from file to GPU.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>imfile</strong> – path to the image file</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>image in GPU</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>torch.Tensor</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Motorcycle_algorithms.eights.eights_singleframe_functions.load_array_gpu">
<span class="sig-prename descclassname"><span class="pre">Motorcycle_algorithms.eights.eights_singleframe_functions.</span></span><span class="sig-name descname"><span class="pre">load_array_gpu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/Motorcycle_algorithms/eights/eights_singleframe_functions.html#load_array_gpu"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Motorcycle_algorithms.eights.eights_singleframe_functions.load_array_gpu" title="Permalink to this definition"></a></dt>
<dd><p>Function to load array to GPU.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>img</strong> – array to load</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>array in GPU</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>torch.Tensor</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="Motorcycle_algorithms.eights.eights_singleframe_functions.viz">
<span class="sig-prename descclassname"><span class="pre">Motorcycle_algorithms.eights.eights_singleframe_functions.</span></span><span class="sig-name descname"><span class="pre">viz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">img</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flo</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/Motorcycle_algorithms/eights/eights_singleframe_functions.html#viz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Motorcycle_algorithms.eights.eights_singleframe_functions.viz" title="Permalink to this definition"></a></dt>
<dd><p>Function to visualize the optical flow.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>img</strong> (<em>torch.Tensor</em>) – image</p></li>
<li><p><strong>flo</strong> (<em>torch.Tensor</em>) – optical flow</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="push_vehicle_algorithm.html" class="btn btn-neutral float-left" title="Push Vehicle Algorithm" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, UNAL.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>